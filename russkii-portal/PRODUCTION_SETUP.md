# üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–Ω–µ—Å–µ–Ω—ã:

### 1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è OzonPay
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `server/ozonpay.ts` - —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ `completed` –∏ `failed` –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤ –≤ –ø—Ä–æ—Ñ–∏–ª–µ

### 2. Webhook –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
- ‚úÖ Webhook –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –Ω–∞ "completed" –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç–µ
- ‚úÖ –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ "processing" –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã

## üîß –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

### –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:

```env
# Ozon Pay Production Configuration
OZONPAY_ACCESS_KEY=f3c0b7c9-9d17-4aa7-94b2-7106649534c3
OZONPAY_SECRET_KEY=E6Wpm0o73sr67ZK7z6qvULn77BqG0lvR
OZONPAY_NOTIFICATION_SECRET_KEY=3UrW32FscjhqAmeJhuq14eZ8hPamZlz8
OZONPAY_API_URL=https://payapi.ozon.ru/v1
OZONPAY_SUCCESS_URL=https://helens-jungle.ru/payment/success
OZONPAY_FAIL_URL=https://helens-jungle.ru/payment/fail
OZONPAY_WEBHOOK_URL=https://helens-jungle.ru/api/ozonpay/webhook

# Production Mode
NODE_ENV=production
```

### –í –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ Ozon –ë–∞–Ω–∫–∞:
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É–∫–∞–∑–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ URL:
   - **Webhook URL**: `https://helens-jungle.ru/api/ozonpay/webhook`
   - **Success URL**: `https://helens-jungle.ru/payment/success`
   - **Fail URL**: `https://helens-jungle.ru/payment/fail`

## üìã –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

1. **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞** ‚Üí —Å—Ç–∞—Ç—É—Å `pending`
2. **–ü–µ—Ä–µ—Ö–æ–¥ –∫ –æ–ø–ª–∞—Ç–µ** ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ Ozon Pay
3. **–£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞** ‚Üí webhook –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å:
   - `payment_status` = `completed`
   - `order_status` = `processing`
4. **–í –ø—Ä–æ—Ñ–∏–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è "–û–ø–ª–∞—á–µ–Ω" / "–í –æ–±—Ä–∞–±–æ—Ç–∫–µ"

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:
–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å—ã –æ–ø–ª–∞—Ç—ã –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∏—Ö –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã —á–µ—Ä–µ–∑ OzonPay! 