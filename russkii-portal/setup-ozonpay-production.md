# üöÄ –ù–ê–°–¢–†–û–ô–ö–ê –ü–†–û–î–ê–ö–®–ù OZON PAY

## üìù –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:
1. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `server/ozonpay.ts` - —Ç–µ–ø–µ—Ä—å —á–∏—Ç–∞–µ—Ç credentials –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —à–∞–±–ª–æ–Ω –≤ `ecosystem.config.cjs` –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

## üîë –®–ê–ì 1: –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–∫—à–Ω –∫–ª—é—á–µ–π
–í–æ–π–¥–∏—Ç–µ –≤ **–ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç Ozon Pay** –∏ –ø–æ–ª—É—á–∏—Ç–µ:
- `ACCESS_KEY` (–ø—Ä–æ–¥–∞–∫—à–Ω)
- `SECRET_KEY` (–ø—Ä–æ–¥–∞–∫—à–Ω)  
- `NOTIFICATION_SECRET_KEY` (–ø—Ä–æ–¥–∞–∫—à–Ω)

## ‚öôÔ∏è –®–ê–ì 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ecosystem.config.cjs
–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `ecosystem.config.cjs` –∏ **–∑–∞–º–µ–Ω–∏—Ç–µ** —ç—Ç–∏ —Å—Ç—Ä–æ–∫–∏:

```javascript
// Ozon Pay –ø—Ä–æ–¥–∞–∫—à–Ω –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ - –ó–ê–ú–ï–ù–ò–¢–¨ –ù–ê –†–ï–ê–õ–¨–ù–´–ï –ö–õ–Æ–ß–ò!
OZONPAY_ACCESS_KEY: 'YOUR_PRODUCTION_ACCESS_KEY_HERE',
OZONPAY_SECRET_KEY: 'YOUR_PRODUCTION_SECRET_KEY_HERE', 
OZONPAY_NOTIFICATION_SECRET_KEY: 'YOUR_PRODUCTION_NOTIFICATION_SECRET_HERE',
```

**–ù–ê –†–ï–ê–õ–¨–ù–´–ï –ö–õ–Æ–ß–ò:**
```javascript
// Ozon Pay –ø—Ä–æ–¥–∞–∫—à–Ω –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
OZONPAY_ACCESS_KEY: 'abc123-def456-ghi789-—Ä–µ–∞–ª—å–Ω—ã–π-–∫–ª—é—á',
OZONPAY_SECRET_KEY: 'xyz789-uvw456-—Ä–µ–∞–ª—å–Ω—ã–π-—Å–µ–∫—Ä–µ—Ç', 
OZONPAY_NOTIFICATION_SECRET_KEY: 'qwe123-asd456-—Ä–µ–∞–ª—å–Ω—ã–π-notification',
```

## üîÑ –®–ê–ì 3: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
# 1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd /var/www/russkii-portal

# 2. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç (–≤–∞–∂–Ω–æ - –∏–∑–º–µ–Ω–∏–ª—Å—è server/ozonpay.ts!)
npm run build

# 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä —Å –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
pm2 restart russkii-portal

# 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
pm2 logs russkii-portal --lines 20
```

## ‚úÖ –®–ê–ì 4: –ü—Ä–æ–≤–µ—Ä–∫–∞
–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–∫–∞–∑ –Ω–∞ —Å–∞–π—Ç–µ. –í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
- ‚úÖ **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—à–∏–±–æ–∫** "–Ω–µ –Ω–∞–π–¥–µ–Ω–æ" 
- ‚úÖ **–£—Å–ø–µ—à–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ** –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å—Å—ã–ª–∫–∏
- ‚úÖ **URL –æ–ø–ª–∞—Ç—ã** –≤ –æ—Ç–≤–µ—Ç–µ API

## üîç –®–ê–ì 5: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (–µ—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å
pm2 show russkii-portal

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –æ—à–∏–±–∫–∏
pm2 logs russkii-portal --err --lines 10
```

## ‚ö†Ô∏è –í–ê–ñ–ù–û:
- **–ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ** —Ä–µ–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –≤ git
- **–°–¥–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø** ecosystem.config.cjs –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
- **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ** —Å –Ω–µ–±–æ–ª—å—à–∏–º–∏ —Å—É–º–º–∞–º–∏ —Å–Ω–∞—á–∞–ª–∞

## üÜò –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∫–ª—é—á–µ–π –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ Ozon Pay
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∫–ª—é—á–∏ **–ø—Ä–æ–¥–∞–∫—à–Ω**, –∞ –Ω–µ —Ç–µ—Å—Ç–æ–≤—ã–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ webhook URL –¥–æ—Å—Ç—É–ø–µ–Ω: `https://helens-jungle.ru/api/ozonpay/webhook` 